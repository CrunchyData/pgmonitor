ancestor: null
releases:
  4.10.0:
    changes:
      major_changes:
      - postgres_exporter - Add support for PostgreSQL 16
      minor_changes:
      - containers - The datasource for containers is named PROMETHEUS. Update dashboards
        to use the hardcoded name.
      - grafana - Adjust the cache hit graph to do a 1m rate vs lifetime ratio
      - grafana - Relabel the cache hit ratio dial properly mark it as the lifetime
        cache hit ratio
      release_summary: Crunchy Data is pleased to announce the availability of pgMonitor
        4.10.0. This release primarily adds support for PostgreSQL 16. This changelog
        contains all changes that have been added since the 4.9.0 release.
    fragments:
    - 350.yml
    - 362.yml
    - 366.yml
    - release_summary.yml
    release_date: '2023-09-18'
  4.11.0:
    changes:
      minor_changes:
      - alertmanager - minimum version 0.23, maximum 0.26.x
      - blackbox_exporter - minimum version 0.22.x, maximum 0.24.x
      - grafana - minimum version 9.2.19, maximum 9.9.x
      - node_exporter - minimum version 1.5.0, maximum 1.7.x
      - postgres_exporter - minimum version 0.10.1, maximum 0.15.x
      - prometheus - minimum version 2.38, maximum 2.49.x
      release_summary: Crunchy Data is pleased to announce the availability of pgMonitor
        4.11.0. This release primarily updates support for the underlying applications
        to more recent versions. This changelog contains all changes that have been
        added since the 4.10.0 release.
    fragments:
    - 250.yml
    - 375.yml
    - 378.yml
    - release.yml
    release_date: '2024-01-24'
  4.8.0:
    changes:
      bugfixes:
      - postgres_exporter - fixed pgbackrest-info.sh script to account for old default
        pgBackRest config file not existing
      - postgres_exporter - remove unnecessary $-escaping in the service file (https://github.com/CrunchyData/pgmonitor/issues/301)
      - postgres_exporter - update global sysconfig file to have proper general queries
        file (https://github.com/CrunchyData/pgmonitor/issues/297)
      major_changes:
      - pg15 - Update to support PostgreSQL 15 (https://github.com/CrunchyData/pgmonitor/issues/296)
      minor_changes:
      - jit - Disable JIT for the ccp_monitoring user to avoid memory leak issues
        (https://github.com/CrunchyData/pgmonitor/issues/295)
      - prometheus - update prometheus sysconfig file to use up to date startup values
        (https://github.com/CrunchyData/pgmonitor/issues/293)
      release_summary: Version 4.8.0 of pgMonitor includes support for PostgreSQL
        15. Please see the CHANGELOG for additional information about this release.
    fragments:
    - 293.yml
    - 297.yml
    - 305.yml
    - 307.yml
    - v4.8.0.yml
    release_date: '2022-11-16'
  4.9.0:
    changes:
      bugfixes:
      - grafana - fixed dashboard links that broke when Grafana removed support for
        the `/dashboard/db/:slug` endpoint in v8
      major_changes:
      - postgres_exporter - Added options for using materialized views to collect
        metrics that may cause longer query runtimes (object sizing, statistics, etc)
      - postgres_exporter - Moved the database size metric out of the 'queries_global.yml'
        file and into the 'queries_global_dbsize.yml' file to allow an optional materialized
        view metric. Ensure query file configuration list is updated to account for
        this change
      minor_changes:
      - blackbox_exporter -  added additional probe for TCP with TLS enabled
      - grafana - Add panel to Query Statistics dashboard for top WAL stats by bytes
      - grafana - Minimum version of Grafana is now 9.2.19
      - grafana - Update dashboard to support multiple pgbouncer targets exported
        by new pgbouncer_fdw
      - postgres_exporter - Add WAL statistics for pg_stat_statements
      - postgres_exporter - Filter out idle-in-transaction sessions from general max
        query runtime metrics.
      - postgres_exporter - Update query file to support pgbouncer_fdw 1.0.0
      - prometheus - Add alert for cases where a PostgreSQL cluster does not have
        an instance that is the leader/primary
      - prometheus - Allow node_exporter's load alert to be based on the CPU count.
        Allows lowering of default thresholds and more accurate alerting
      - prometheus - Enable the PGDataChecksum alert by default for PG12+
      - prometheus - Update the example files to provide better guidance on proper
        configuration
      - prometheus - added additional job example to scan TCP probes with TLS
      release_summary: Version 4.9.0 of pgMonitor includes updates to add additional
        metrics and now better supports monitoring multiple pgbouncer hosts. Please
        see the full CHANGELOG for additional information about this release.
    fragments:
    - 120.yml
    - 283.yml
    - 327.yml
    - 330.yml
    - 333.yml
    - 334.yml
    - 338.yml
    - 341.yml
    - 344.yml
    - 351.yml
    - 355.yml
    - release_summary.yml
    release_date: '2023-07-25'
  5.0.0:
    changes:
      bugfixes:
      - docs - add reference links to upstream configuration docs
      - exporter - fix the pgbackrest-info.sh to force the necessary console output
        level that it expects
      - grafana - fix some queries that were searching on the wrong label (datname
        vs. dbname)
      - sql_exporter - add new metric for n_tup_newpage_upd
      - sql_exporter - use the new views from pgmonitor-extension instead of full
        queries
      major_changes:
      - grafana - Add new dashboards for sql_exporter support. New PostgreSQL Overview
        and PgBouncer direct metrics dashboards
      - grafana - New Grafana minimum version is now 10.4. All dashboards have been
        updated to fix AngularJS deprecation warnings and re-exported from 10.4.
      - grafana - Organize packages to allow better choice of available Grafana dashboards
      - grafana - Remove top level general Overview dashboard
      - pgmonitor-extension - Add more extensive support for materialized views and
        refreshed tables for expensive or custom metric queries
      - pgmonitor-extension - Add support for using the PostgreSQL pgmonitor-extension
        to aid in metrics collection with sql_exporter
      - postgres_exporter - Note that postgres_exporter is still supported but will
        be deprecated in a future version
      - sql_exporter - Add support for directly connecting to PgBouncer to collect
        metrics
      - sql_exporter - Add support for new PostgreSQL metrics collecting exporter
        (sql_exporter)
      minor_changes:
      - prometheus - Added OOMKiller Alert using node_exporter metrics
      release_summary: Crunchy Data is pleased to announce the availability of pgMonitor
        5.0.0. This release brings support for a new Prometheus exporter for PostgreSQL
        - sql_exporter. It also supports a new monitoring extension to make metric
        collection easier and more performant. This changelog contains all changes
        that have been added since the 4.11.0 release.
    fragments:
    - 361.yml
    - 387.yml
    - 397.yml
    - 399.yml
    - 401.yml
    - 407.yml
    - 411.yml
    - 412.yml
    - release_summary.yml
    release_date: '2024-07-09'
  5.1.0:
    changes:
      bugfixes:
      - grafana - Fix etcd dashboard to use new metric names in etcd 3.5
      - postgres_exporter - Fix query for pgBackRest monitoring to handle 3 number
        versions
      major_changes:
      - grafana - add support for new metrics in PG17
      - sql_exporter - add support for PG17
      minor_changes:
      - grafana - Add a new variable dropdown to all dashboards for the Datasource.
        Allows more flexiblity when importing the dashboard to different environments.
      - grafana - Add panel to PG Details dashboard to track autovac workers running
        vs max
      - grafana - add a dashboard for HAProxy
      - sql_exporter -  Add metrics to track current autovacuum workers running and
        max autovacuum workers
      - sql_exporter - A password for the ccp_monitoring database role is no longer
        set when using the setup_db.sql file.
      - sql_exporter - Make the default privileges for the setup_db.yml file world
        readable (when installing via package).
      release_summary: 'Crunchy Data is pleased to announce the availability of pgMonitor
        5.1.0. This release brings support for PostgreSQL 17. It also brings more
        flexible Grafana dashboards, an HAProxy dashboard and better support for etcd
        and pgBackRest.

        '
    fragments:
    - 106.yml
    - 207.yml
    - 404.yml
    - 408.yml
    - 410.yml
    - 418.yml
    - 419.yml
    - 420.yml
    - 423.yml
    - 428.yml
    - 432.yml
    - 5.1.0.yml
    release_date: '2024-09-16'
  5.1.1:
    changes:
      minor_changes:
      - postgres_exporter - Files to help transition off of postgres_exporter.
      release_summary: Crunchy Data is pleased to announce the availability of pgMonitor
        5.1.1. This release brings additional support for PostgreSQL 17 to postgres_exporter
        to allow easier migration to sql_exporter.
    fragments:
    - 435.yml
    - release_summary.yml
    release_date: '2024-10-04'
